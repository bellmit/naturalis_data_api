<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<project xmlns:ivy="antlib:org.apache.ivy.ant" xmlns:if="ant:if" xmlns:unless="ant:unless" basedir="." name="nl.naturalis.nda.sh" default="build">

	<import file="../nl.naturalis.nda.build/common.xml" />

	<!-- Load properties -->
	<property environment="env" />
	<property file="${nl.naturalis.nda.build.location}/build.properties" />

	<target name="clean">
		<delete dir="${nda.import.install.dir}" />
	</target>

	<target name="-build-load-project">
		<ant antfile="${nl.naturalis.nda.build.location}/build.xml" useNativeBasedir="true" inheritrefs="true">
			<target name="pristine" />
			<target name="load" />
		</ant>
	</target>

	<target name="install-import">
		<echo message="Installing import module into ${nda.import.install.dir}" />
		<mkdir dir="${nda.import.install.dir}" />
		<copy todir="${nda.import.install.dir}" overwrite="true">
			<fileset dir="import" excludes="**/*.git*" />
			<filterset begintoken="@" endtoken="@" filtersfile="${nl.naturalis.nda.build.location}/build.properties" />
		</copy>
		<!-- replace dir="${nda.import.install.dir}"  replacefilterfile="${nl.naturalis.nda.build.location}/build.properties"/ -->
		<!--
		<mkdir dir="${nda.import.install.dir}/lib" />
		<copy file="${nl.naturalis.nda.domain.location}/build/nl.naturalis.nda.domain.jar" todir="${nda.import.install.dir}/lib" />
		<copy todir="${nda.import.install.dir}/lib">
			<fileset dir="${nl.naturalis.nda.domain.location}/build/classpath" />
		</copy>
		<copy file="${nl.naturalis.nda.elasticsearch.dao.location}/build/nl.naturalis.nda.elasticsearch.dao.jar" todir="${nda.import.install.dir}/lib" />
		<copy todir="${nda.import.install.dir}/lib">
			<fileset dir="${nl.naturalis.nda.elasticsearch.dao.location}/build/classpath" />
		</copy>
		<copy file="${nl.naturalis.nda.elasticsearch.load.location}/build/nl.naturalis.nda.elasticsearch.load.jar" todir="${nda.import.install.dir}/lib" />
		<copy todir="${nda.import.install.dir}/lib">
			<fileset dir="${nl.naturalis.nda.elasticsearch.load.location}/build/classpath" />
		</copy>
		-->
	</target>

	<target name="build" depends="install-import" />

</project>