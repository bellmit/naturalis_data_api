<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<project xmlns:ivy="antlib:org.apache.ivy.ant" basedir="." name="nl.naturalis.nda.load" default="build">

	<import file="../nl.naturalis.nda.build/paths.xml" />
	<import file="../nl.naturalis.nda.build/common.xml" />

	<path id="non-ivy-dependencies">
		<fileset dir="${nl.naturalis.nda.build.location}/lib">
			<include name="org.domainobject.*.jar" />
		</fileset>
		<filelist dir="${nl.naturalis.nda.domain.location}/build" files="nl.naturalis.nda.domain.jar"/>
	</path>

	<target name="compile-sources">
		<ivy:retrieve />
		<copy todir="lib">
			<path refid="non-ivy-dependencies" />
		</copy>
		<javac destdir="build/main" debug="true" debuglevel="${javacDebugLevel}" includeantruntime="false" source="${javacSource}" target="${javacTarget}">
			<src path="src/main/java" />
			<classpath>
				<fileset dir="lib">
					<include name="**/*.jar" />
				</fileset>
			</classpath>
		</javac>
		<!-- delete dir="lib" / -->
	</target>


	<target name="build" depends="compile-sources" />

</project>