{
  "bool" : {
    "must" : [ {
      "term" : {
        "firstName" : "John"
      }
    }, {
      "bool" : {
        "should" : [ {
          "term" : {
            "pet" : "dog"
          }
        }, {
          "term" : {
            "pet" : "cat"
          }
        }, {
          "bool" : {
            "must" : [ {
              "term" : {
                "pet" : "parrot"
              }
            }, {
              "term" : {
                "color" : "blue"
              }
            }, {
              "term" : {
                "talks" : "true"
              }
            } ]
          }
        } ]
      }
    } ],
    "must_not" : {
      "term" : {
        "lastName" : "Smith"
      }
    }
  }
}